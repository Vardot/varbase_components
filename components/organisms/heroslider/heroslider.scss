@import "../../defaults";   // Global component defaults.

.carousel.varbase-heroslider {

  &> .view-empty {
    background-color: $hero-empty-view-background;
    @include rfs(25rem 0 3rem, padding);
    text-align: center;
    color: #666;
    background-repeat: no-repeat;
    @include rfs(50% 5rem, background-position);
    @include rfs(15rem, background-size);
    @include font-size(1.75rem);
    /* Icons made by DinosoftLabs (https://www.flaticon.com/authors/dinosoftlabs) from www.flaticon.com. And is licensed by CC 3.0 BY. */
    background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAzMjEuNDk0IDMyMS40OTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyMS40OTQgMzIxLjQ5NDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIyNTZweCIgaGVpZ2h0PSIyNTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTY2Ljg4LDIwOC43NDd2NzcuNzVsNjcuMzY3LTM4LjgxN0w2Ni44OCwyMDguNzQ3eiBNODAuNzQ3LDIzMi44NTRsMjUuODEzLDE0LjkzM2wtMjUuODEzLDE0LjgyN1YyMzIuODU0eiIgZmlsbD0iI2E4YThhOCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTAsMTczLjg2N3YxNDcuNjI3aDE4Ny43MzNWMTczLjg2N0gweiBNMTczLjg2NywzMDcuNjI3aC0xNjBWMTg3LjczNGgxNjBWMzA3LjYyN3oiIGZpbGw9IiNhOGE4YTgiLz4KCTwvZz4KPC9nPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik02Ni44OCwwdjE2MC45NmgyNTQuNjEzVjBINjYuODh6IE0zMDcuNjI4LDE0Ny4wOTRIODAuNzQ3VjEzLjg2N2gyMjYuODhWMTQ3LjA5NHoiIGZpbGw9IiNhOGE4YTgiLz4KCTwvZz4KPC9nPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNTkuMjU1LDIwLjY5NGMtMTEuOTQ3LDAtMjEuNzYsOS44MTMtMjEuNzYsMjEuNzZjMCwxMS45NDcsOS44MTMsMjEuNzYsMjEuNzYsMjEuNzZjMTEuOTQ2LDAsMjEuNzYtOS44MTMsMjEuNzYtMjEuNzYgICAgQzE4MS4wMTUsMzAuNTA3LDE3MS4yMDEsMjAuNjk0LDE1OS4yNTUsMjAuNjk0eiBNMTU5LjI1NSw1MC4zNDZjLTQuMzczLDAtNy44OTMtMy41Mi03Ljg5My03Ljg5M3MzLjUyLTcuODkzLDcuODkzLTcuODkzICAgIHM3Ljg5MywzLjUyLDcuODkzLDcuODkzUzE2My42MjgsNTAuMzQ2LDE1OS4yNTUsNTAuMzQ2eiIgZmlsbD0iI2E4YThhOCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBvbHlnb24gcG9pbnRzPSIzMDkuNzYsMjkuOTc0IDI1MS43MzQsODUuNTQ3IDIxNy43MDgsNTIuOTA3IDE2Mi43NzUsMTA1LjQ5NCAxMjYuMTg3LDcwLjUwNyA2OS4wMTUsMTI1LjEyIDc4LjYxNCwxMzUuMTQ3ICAgICAxMjYuMTg3LDg5LjcwNyAxNjIuNzc1LDEyNC42OTQgMjE3LjcwOCw3Mi4xMDcgMjUxLjczNCwxMDQuNzQ3IDMxOS4zNjEsNDAgICAiIGZpbGw9IiNhOGE4YTgiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);
  }

  .carousel-controls {
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 5;
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    height: 2.1875rem;
    margin-bottom: 1.88rem;

    @media screen and (min-width: map-get($grid-breakpoints, "sm")) {
      padding: 0 calc((100vw - map-get($container-max-widths, "sm"))/2);
    }

    @media screen and (min-width: map-get($grid-breakpoints, "md")) {
      padding: 0 calc(((100vw - map-get($container-max-widths, "md"))/2) + $grid-gutter-width/2);
    }

    @media screen and (min-width: map-get($grid-breakpoints, "lg")) {
      margin-bottom: 6.25rem;
      padding: 0 calc(((100vw - map-get($container-max-widths, "lg"))/2) + $grid-gutter-width/2);
    }

    @media screen and (min-width: map-get($grid-breakpoints, "xl")) {
      padding: 0 calc(((100vw - map-get($container-max-widths, "xl"))/2) + $grid-gutter-width/2);
    }

    @media screen and (min-width: map-get($grid-breakpoints, "xxl")) {
      padding: 0 calc(((100vw - map-get($container-max-widths, "xxl"))/2) + $grid-gutter-width/2);
    }
  }

  .carousel-indicators {
    position: relative;
    width: fit-content;
    padding: 0;
    margin: 0;

    button {
      background: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='11' viewBox='0 0 10 11' fill='none'><circle cx='5' cy='5.5' r='4.5' stroke='white'/></svg>") no-repeat;

      &.active {
        background: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='11' viewBox='0 0 10 11' fill='none'><circle cx='5' cy='5.5' r='4.5' fill='white' stroke='white'/></svg>") no-repeat;
      }
    }
  }

  .carousel-control-buttons {
    position: relative;
    display: flex;
    align-items: baseline;
  }

  .carousel-control-prev,
  .carousel-control-next,
  .carousel-control-pause {
    position: relative;
    display: block;
    width: 2.1875rem;
    height: 2.1875rem;
    padding: 0;
    margin: 0;
    align-self: flex-end;
  }

  .carousel-control-pause {
    background: none;
    border: 0;
    opacity: 1;

    .carousel-control-pause-icon {
      display: inline-block;
      width: 0.75rem;
      height: 0.75rem;
      background-repeat: no-repeat;
      background-position: 50% 50%;
      background-size: 100% 100%;
      background: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='13' viewBox='0 0 12 13' fill='none'><path d='M0 3C0 1.61929 1.11929 0.5 2.5 0.5C3.88071 0.5 5 1.61929 5 3V10C5 11.3807 3.88071 12.5 2.5 12.5C1.11929 12.5 0 11.3807 0 10V3ZM7 3C7 1.61929 8.11929 0.5 9.5 0.5C10.8807 0.5 12 1.61929 12 3V10C12 11.3807 10.8807 12.5 9.5 12.5C8.11929 12.5 7 11.3807 7 10V3Z' fill='white'/></svg>");
    }
  }

  .ratio {
    .drimage picture {
      position: absolute;
      top: -26%;
      bottom: -26%;
      left: 0;
      width: 100%;
      height: 100%;
    }

    @include media-breakpoint-down(xl) {
      &.vw-100 {
        &.ratio-16x9 {
          height: calc(100vh * (16/9)) !important;
          width: calc(100vh * (16/9) * (16/9)) !important;
        }
    
        &.ratio-21x9 {
          height: calc(100vh * (21/9)) !important;
          width: calc(100vh * (21/9) * (21/9)) !important;
        }
    
        &.ratio-4x3 {
          height: calc(100vh * (4/3)) !important;
          width: calc(100vh * (4/3) * (4/3)) !important;
        }
      }
    }
  }

  .carousel-item .varbase-hero-card {
    position: relative;
    overflow: hidden;

    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    justify-content: center;

    padding: 12%;

    height: $hero-min-height !important;

    min-height: $hero-min-height;
    max-height: $hero-max-height;

    @media screen and (min-width: map-get($grid-breakpoints, "md")) {
      min-height: $hero-min-height-md;
      max-height: $hero-max-height-md;
    }

    @media screen and (max-width: map-get($grid-breakpoints, "sm")) {
      min-height: $hero-min-height-sm;
      max-height: $hero-max-height-sm;
    }

    .hero-slide-content-wrapper {
      position: absolute;
      z-index: 9;
      top: 0;
      bottom: 0;
      right: 0;
      left: 0;
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      justify-content: center;
    }

    .hero-slide-content {
      @include padding($hero-container-v-padding);

      .field--name-node-title {
        h2,
        h3 {
          margin: 0;
          padding: 0;
          color: $hero-title-text-color;

          @include font-size($hero-xlarge-title-font-size-xs);

          @media screen and (min-width: map-get($grid-breakpoints, "sm")) {
            @include font-size($hero-xlarge-title-font-size-sm);
          }

          @media screen and (min-width: map-get($grid-breakpoints, "md")) {
            @include font-size($hero-xlarge-title-font-size-md);
          }

          @media screen and (min-width: map-get($grid-breakpoints, "lg")) {
            @include font-size($hero-xlarge-title-font-size-lg);
          }

          @media screen and (min-width: map-get($grid-breakpoints, "xl")) {
            @include font-size($hero-xlarge-title-font-size-xl);
          }
        }
      }

      .field--name-field-brief {
        @include margin-top(1rem);
        color: $hero-brief-text-color;
      }

      .field--name-field-link {
        @include margin-top(1rem);

        a {
          color: $hero-link-text-color;
          text-decoration: none;

          &:hover,
          &:focus,
          &:active {
            opacity: $hero-content-hover-opacity;
          }
        }
      }

      @media screen and (max-width: map-get($grid-breakpoints, "sm")) {
        @include padding($hero-container-v-padding $hero-container-h-padding-sm);
      }
    }

    .field--name-field-media-single {
      overflow: hidden;

      min-height: $hero-min-height;
      max-height: $hero-max-height;

      @media screen and (min-width: map-get($grid-breakpoints, "md")) {
        min-height: $hero-min-height-md;
        max-height: $hero-max-height-md;
      }

      .contextual-region {
        position: unset;
      }

      .varbase-video-player {
        &.ratio {
          position: relative;
          width: 100vw;
          height: 130vh;
          @media screen and (min-width: map-get($grid-breakpoints, "xl")) {
            height: auto;
          }
          top: 50%;
          left: 50%;
          transform: translateY(-50%) translateX(-50%);
          padding-bottom: 0;
        }
      }

      .field--type-image {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
      }

      img {
        top: 0;
        left: 0;
        width: 100%;
      }

      .media {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;

        img {
          top: 0;
          left: 0;
          width: 100%;
        }

        video {
          top: 0;
          left: 0;
          width: 100%;
        }

        iframe {
          top: 0;
          left: 0;
          width: 100%;
        }
      }

      /* 1. No object-fit support: */
      @media (max-aspect-ratio: #{"16/9"}) {
        .varbase-video-player {
          &.ratio {
            position: relative;
            width: 240vw;
            height: 140vh;
            @media screen and (min-width: map-get($grid-breakpoints, "xl")) {
              height: auto;
            }
            top: 50%;
            transform: translateY(-50%) translateX(-50%);
            padding-bottom: 0 !important;
            left: 50%;
          }
        }
      }
      /* 2. If supporting object-fit, overriding (1): */
     @supports (object-fit: cover) {
        img {
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .media {
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          object-fit: cover;

          img {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
          }

          video {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
          }

          iframe {
            position: absolute;
            left: 0;
            object-fit: cover;
          }
        }
      }

      @media screen and (min-width: map-get($grid-breakpoints, "md")) {
        @supports (object-fit: cover) {
          img {
            position: unset;
          }

          .media {
            img {
              position: unset;
            }
          }
        }
      }
    }
  }
}
